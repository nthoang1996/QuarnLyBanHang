<div class="row custom-header">
    <div class="col-12 d-flex justify-content-center">
        <h1>BÁO CÁO BÁN HÀNG LẺ</h1>
    </div>
</div>
<div class="row mt-2">
    <div class="col-3">

    </div>
    <div class="col-2">
        <h5>Thời khoảng:</h5>
    </div>
    <div class="col-7">
        <h5>{{this.params.startDate}}->{{this.params.endDate}}</h5>
    </div>
</div>

<div class="row">
    <div class="col-lg-3 d-sm-none">

    </div>
    <div class="col-lg-2 col-sm-4">
        <h5>Cửa hàng - kho:</h5>
    </div>
    <div class="col-lg-7 col-sm-8">
        <h5>{{this.params.store_name}}</h5>
    </div>
</div>

<div class="row">
    <div class="col-lg-3 d-sm-none">

    </div>
    <div class="col-lg-2 col-sm-4">
        <h5>Ngành hàng:</h5>
    </div>
    <div class="col-lg-7 col-sm-8">
        <h5>{{this.params.industry_name}}</h5>
    </div>
</div>

<div class="row">
    <div class="col-lg-3 d-sm-none">

    </div>
    <div class="col-lg-2 col-sm-4">
        <h5>Nhóm hàng:</h5>
    </div>
    <div class="col-lg-7 col-sm-8">
        <h5>{{this.params.group_name}}</h5>
    </div>
</div>

{{#if this.parseResult}}
<div class="row mt-3 overflow-auto">
    <table class="table table-bordered">
        <thead>
            <tr>
                <th scope="col" colspan="3" class="text-center">Hàng hóa</th>
                <th scope="col" colspan="5" class="text-center">Bán hàng</th>
            </tr>
            <tr>
                <th scope="col" width="15%" class="text-center">Mã</th>
                <th scope="col" width="25%" class="text-center">Tên</th>
                <th scope="col" width="10%" class="text-center">ĐVT</th>
                <th scope="col" width="10%" class="text-center">Số lượng</th>
                <th scope="col" width="10%" class="text-center">Đơn giá</th>
                <th scope="col" width="10%" class="text-center">VAT</th>
                <th scope="col" width="10%" class="text-center">Chiết khấu</th>
                <th scope="col" width="10%" class="text-center">Thành tiền</th>
            </tr>
        </thead>
        <tbody>
            {{#each this.parseResult.result}}
            <tr class="text-smd" scope="row">
                <td scope="col" colspan="3" class="font-weight-bold text-center">{{NAME}}</td>
                <td scope="col" class="text-right font-weight-bold">{{QTY}}</td>
                <td scope="col" class="text-right font-weight-bold"></td>
                <td scope="col" class="text-right font-weight-bold">{{format VAT}}</td>
                <td scope="col" class="text-right font-weight-bold">{{format DISC_AMT}}</td>
                <td scope="col" class="text-right font-weight-bold">{{format THANHTIEN}}</td>
            </tr>
            {{#each group}}
            <tr class="text-smd" scope="row">
                <td scope="col" class="text-left font-weight-bold">{{ID}}</td>
                <td scope="col" colspan="2" class="text-center font-weight-bold">{{NAME}}</td>
                <td scope="col" class="text-right font-weight-bold">{{QTY}}</td>
                <td scope="col" class="text-right font-weight-bold"></td>
                <td scope="col" class="text-right font-weight-bold">{{format VAT}}</td>
                <td scope="col" class="text-right font-weight-bold">{{format DISC_AMT}}</td>
                <td scope="col" class="text-right font-weight-bold">{{format THANHTIEN}}</td>
            </tr>
            {{#each data}}
            <tr class="text-smd" scope="row">
                <td scope="col" class="text-left">{{ITEM_ID}}</td>
                <td scope="col" class="text-left">{{ITEM_NAME}}</td>
                <td scope="col" class="text-center">{{ITEM_UOM}}</td>
                <td scope="col" class="text-right">{{QTY}}</td>
                <td scope="col" class="text-right">{{format DONGIA}}</td>
                <td scope="col" class="text-right">{{format VAT}}</td>
                <td scope="col" class="text-right">{{format DISC_AMT}}</td>
                <td scope="col" class="text-right">{{format THANHTIEN}}</td>
            </tr>
            {{/each}}
            {{/each}}
            {{/each}}
            <tr scope="row" class="text-smd">
                <td scope="col" colspan="3" class="text-center font-weight-bold">Tổng cộng</td>
                <td scope="col" class="text-right font-weight-bold">{{this.parseResult.metadata.totalQTY}}</td>
                <td scope="col" class="text-right font-weight-bold"></td>
                <td scope="col" class="text-right font-weight-bold">{{format this.parseResult.metadata.totalVAT}}</td>
                <td scope="col" class="text-right font-weight-bold">{{format this.parseResult.metadata.totalDISC_AMT}}
                </td>
                <td scope="col" class="text-right font-weight-bold">{{format this.parseResult.metadata.totalTHANHTIEN}}
                </td>
            </tr>
            <tr scope="row" class="text-smd">
                <td scope="col" colspan="3" class="text-center font-weight-bold">Tổng khuyến mãi</td>
                <td scope="col" colspan="5" class="text-right font-weight-bold">{{format this.parseResult.metadata.totalPROMOTION_COST}}
                </td>
            </tr>
            <tr scope="row" class="text-smd">
                <td scope="col" colspan="3" class="text-center font-weight-bold">Còn lại</td>
                <td scope="col" colspan="5" class="text-right font-weight-bold">{{format this.parseResult.metadata.finalValue}}
                </td>
            </tr>
        </tbody>
    </table>
</div>
{{else}}
<div class="mt-3 d-flex justify-content-center w-100">
    <h5>Không có dữ liệu</h5>
</div>
{{/if}}